<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Right_DietSeurat — Right_DietSeurat • RightSeuratTools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Right_DietSeurat — Right_DietSeurat"><meta name="description" content="As of Seurat v5 release, DietSeurat does not remove data and scale.data layers, resulting in objects with little to no reduction in size. This function was created with the purpose to restore DietSeurat's proper behavior until the function is fixed by Seurat's dev team, as well as to offer a few new options such as the ability to subset cells or keep variable features."><meta property="og:description" content="As of Seurat v5 release, DietSeurat does not remove data and scale.data layers, resulting in objects with little to no reduction in size. This function was created with the purpose to restore DietSeurat's proper behavior until the function is fixed by Seurat's dev team, as well as to offer a few new options such as the ability to subset cells or keep variable features."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RightSeuratTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Tutorial.html">Tutorial</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Alexis-Varin/RightSeuratTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Right_DietSeurat</h1>
      <small class="dont-index">Source: <a href="https://github.com/Alexis-Varin/RightSeuratTools/blob/main/R/Right_DietSeurat.R" class="external-link"><code>R/Right_DietSeurat.R</code></a></small>
      <div class="d-none name"><code>Right_DietSeurat.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>As of <span class="pkg">Seurat</span> v5 release, <code><a href="https://satijalab.org/seurat/reference/DietSeurat.html" class="external-link">DietSeurat</a></code> does not remove data and scale.data layers, resulting in objects with little to no reduction in size. This function was created with the purpose to restore <code><a href="https://satijalab.org/seurat/reference/DietSeurat.html" class="external-link">DietSeurat</a></code>'s proper behavior until the function is fixed by <span class="pkg">Seurat</span>'s dev team, as well as to offer a few new options such as the ability to subset cells or keep variable features.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Right_DietSeurat</span><span class="op">(</span></span>
<span>  <span class="va">seurat_object</span>,</span>
<span>  idents <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cells <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  features <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dimreducs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  graphs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  variable.features <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  misc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  split.counts.layer <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data.layer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  scale.layer <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  SCTAssay <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-seurat-object">seurat_object<a class="anchor" aria-label="anchor" href="#arg-seurat-object"></a></dt>
<dd><p>A <span class="pkg">Seurat</span> object.</p></dd>


<dt id="arg-idents">idents<a class="anchor" aria-label="anchor" href="#arg-idents"></a></dt>
<dd><p>Character. A vector with one or several identity names in the meta.data slot to keep in the diet object. If <code>NULL</code>, all identities will be kept.</p></dd>


<dt id="arg-cells">cells<a class="anchor" aria-label="anchor" href="#arg-cells"></a></dt>
<dd><p>Character. A vector with one or several cell barcodes to keep in the diet object. If <code>NULL</code>, all cells will be kept.</p></dd>


<dt id="arg-features">features<a class="anchor" aria-label="anchor" href="#arg-features"></a></dt>
<dd><p>Character. A vector with one or several feature names to keep in the diet object. If <code>NULL</code>, all features will be kept.</p></dd>


<dt id="arg-dimreducs">dimreducs<a class="anchor" aria-label="anchor" href="#arg-dimreducs"></a></dt>
<dd><p>Character. A vector with one or several reduction names to keep in the diet object. If <code>NULL</code>, all DimReducs will be removed. Note that if you subset features and remove all from which PCs were calculated, the PCA will not be kept, even if it is set in this parameter, as the feature.loadings slot will be empty, this is intended behavior.</p></dd>


<dt id="arg-graphs">graphs<a class="anchor" aria-label="anchor" href="#arg-graphs"></a></dt>
<dd><p>Character. A vector with one or several graph names to keep in the diet object. If <code>NULL</code>, all Graphs will be removed.</p></dd>


<dt id="arg-variable-features">variable.features<a class="anchor" aria-label="anchor" href="#arg-variable-features"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the variable features slot will be kept in the diet object. Note that if you keep only a subset of features, the variable features will also be subset, and if you remove all features from which variable features were calculated, the variable features will not be kept even if this parameter is set to <code>TRUE</code>, this is intended behavior.</p></dd>


<dt id="arg-misc">misc<a class="anchor" aria-label="anchor" href="#arg-misc"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the misc slot will be kept in the diet object.</p></dd>


<dt id="arg-split-counts-layer">split.counts.layer<a class="anchor" aria-label="anchor" href="#arg-split-counts-layer"></a></dt>
<dd><p>Character. The name of an identity in the meta.data slot to split the counts layer by if you need to in your downstream analysis. If <code>NULL</code>, the diet object will have a single counts layer, even if the original object had split counts layers.</p></dd>


<dt id="arg-data-layer">data.layer<a class="anchor" aria-label="anchor" href="#arg-data-layer"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the data layer of the RNA assay will be kept in the diet object if it is present. As with the counts layer, if there are split data layers, they will be joined into a single data layer unless the <code>split.counts.layer</code> parameter is set.</p></dd>


<dt id="arg-scale-layer">scale.layer<a class="anchor" aria-label="anchor" href="#arg-scale-layer"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the scale.data layer of the RNA assay will be kept in the diet object if it is present.</p></dd>


<dt id="arg-sctassay">SCTAssay<a class="anchor" aria-label="anchor" href="#arg-sctassay"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the SCT assay will be kept in the diet object if it is present.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <span class="pkg">Seurat</span> object, hopefully smaller, with class Assay5 RNA assay and specified layers and slots.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://satijalab.org/seurat" class="external-link">Seurat</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Original object from SeuratObject:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pbmc_small</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class Seurat </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 230 features across 80 samples within 1 assay </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Active assay: RNA (230 features, 20 variable features)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3 layers present: counts, data, scale.data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2 dimensional reductions calculated: pca, tsne</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 1:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">Right_DietSeurat</span><span class="op">(</span><span class="va">pbmc_small</span>,</span></span>
<span class="r-in"><span>                idents <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"letter.idents"</span>,<span class="st">"groups"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                features <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CD3D"</span>, <span class="st">"NOSIP"</span>, <span class="st">"SAFB2"</span>,</span></span>
<span class="r-in"><span>                 <span class="st">"CD2"</span>, <span class="st">"IL7R"</span>, <span class="st">"PIK3IP1"</span>, <span class="st">"MAL"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                graphs <span class="op">=</span> <span class="st">"RNA_snn"</span>,</span></span>
<span class="r-in"><span>                split.counts.layer <span class="op">=</span> <span class="st">"letter.idents"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class Seurat </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 features across 80 samples within 1 assay </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Active assay: RNA (7 features, 0 variable features)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2 layers present: counts.A, counts.B</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pbmc_cells</span> <span class="op">=</span> <span class="fu"><a href="https://mojaveazure.github.io/seurat-object/reference/WhichCells.html" class="external-link">WhichCells</a></span><span class="op">(</span><span class="va">pbmc_small</span>, idents <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span>,<span class="st">"1"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">Right_DietSeurat</span><span class="op">(</span><span class="va">pbmc_small</span>,</span></span>
<span class="r-in"><span>                cells <span class="op">=</span> <span class="va">pbmc_cells</span>,</span></span>
<span class="r-in"><span>                variable.features <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                dimreducs <span class="op">=</span> <span class="st">"pca"</span>,</span></span>
<span class="r-in"><span>                data.layer <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An object of class Seurat </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 230 features across 61 samples within 1 assay </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Active assay: RNA (230 features, 20 variable features)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2 layers present: counts, data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1 dimensional reduction calculated: pca</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alexis Varin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

