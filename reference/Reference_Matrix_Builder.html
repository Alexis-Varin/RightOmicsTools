<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Builder of CIBERSORTx Reference Matrix — Reference_Matrix_Builder • RightOmicsTools</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Builder of CIBERSORTx Reference Matrix — Reference_Matrix_Builder"><meta name="description" content="This function builds a Reference Matrix for CIBERSORTx from a Seurat object."><meta property="og:description" content="This function builds a Reference Matrix for CIBERSORTx from a Seurat object."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RightOmicsTools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/RightOmicsTools.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/Visualization.html">Advanced Data Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/GSEA.html">Creating gene signatures from GSEA pathways</a></li>
    <li><a class="dropdown-item" href="../articles/tradeSeq.html">Analysis of DEG along pseudotime</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Alexis-Varin/RightOmicsTools/issues">Issues</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Alexis-Varin/RightOmicsTools/discussions">Feedbacks</a></li>
<li class="nav-item"><a class="nav-link" href="../authors.html">Citation</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://orcid.org/0009-0001-3474-7263">About</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Alexis-Varin/RightOmicsTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Builder of CIBERSORTx Reference Matrix</h1>
      <small class="dont-index">Source: <a href="https://github.com/Alexis-Varin/RightOmicsTools/blob/v.2.2.0/R/Reference_Matrix_Builder.R" class="external-link"><code>R/Reference_Matrix_Builder.R</code></a></small>
      <div class="d-none name"><code>Reference_Matrix_Builder.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function builds a Reference Matrix for <a href="https://cibersortx.stanford.edu/index.php" class="external-link">CIBERSORTx</a> from a <span class="pkg">Seurat</span> object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Reference_Matrix_Builder</span><span class="op">(</span></span>
<span>  <span class="va">seurat_object</span>,</span>
<span>  assay <span class="op">=</span> <span class="st">"RNA"</span>,</span>
<span>  layer <span class="op">=</span> <span class="st">"counts"</span>,</span>
<span>  ident.1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ident.2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  double.ident <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  double.ident.sep <span class="op">=</span> <span class="st">"_"</span>,</span>
<span>  reverse.double.ident <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  subset.ident.1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subset.ident.1.invert <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  subset.ident.2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subset.ident.2.invert <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  downsample.object.first <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  downsample.object.last <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  downsample.cluster <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  automatic.downsample <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  check.size <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  max.matrix.size <span class="op">=</span> <span class="fl">900</span>,</span>
<span>  cell.barcodes <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  file.name <span class="op">=</span> <span class="st">"Reference_Matrix"</span>,</span>
<span>  file.format <span class="op">=</span> <span class="st">"txt"</span>,</span>
<span>  file.sep <span class="op">=</span> <span class="st">"\t"</span>,</span>
<span>  write.path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  write <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-seurat-object">seurat_object<a class="anchor" aria-label="anchor" href="#arg-seurat-object"></a></dt>
<dd><p>A <span class="pkg">Seurat</span> object.</p></dd>


<dt id="arg-assay">assay<a class="anchor" aria-label="anchor" href="#arg-assay"></a></dt>
<dd><p>Character. The name of an assay containing the <code>layer</code> with the expression matrix. If the <code>seurat_object</code> contains multiple 'RNA' assays, you may specify which one to use (for example 'RNA2' if you have created a second 'RNA' assay you named 'RNA2'. See <a href="https://satijalab.org/seurat/articles/seurat5_essential_commands.html#create-seurat-or-assay-objects" class="external-link">Seurat v5 vignettes</a> for more information). You may also use another assay, such as 'SCT', if you want to extract the expression matrix for projects other than CIBERSORTx.</p></dd>


<dt id="arg-layer">layer<a class="anchor" aria-label="anchor" href="#arg-layer"></a></dt>
<dd><p>Character. The name of a layer (formerly known as slot) which stores the expression matrix. Must be 'counts' layer for CIBERSORTx. You may also specify another layer such as 'data' (normalized counts) or any other present in the specified <code>assay</code> if you want to extract the expression matrix for projects other than CIBERSORTx. If you have split layers the function will always join them before extracting the expression matrix.</p></dd>


<dt id="arg-ident-">ident.1<a class="anchor" aria-label="anchor" href="#arg-ident-"></a></dt>
<dd><p>Character. The name of a metadata (for example, 'orig.ident', 'seurat_clusters', etc) from which to extract identities as column names in the Reference Matrix. If <code>NULL</code>, uses the active.ident metadata.</p></dd>


<dt id="arg-ident-">ident.2<a class="anchor" aria-label="anchor" href="#arg-ident-"></a></dt>
<dd><p>Character. The name of a metadata from which to split <code>ident.1</code> identities by (for example if <code>ident.1</code> is 'seurat_clusters' and <code>ident.2</code> is 'orig.ident', identity 0 will be separated into several 0_identities, each corresponding to an orig.ident: 0_sample1, 0_sample2 etc).</p></dd>


<dt id="arg-double-ident">double.ident<a class="anchor" aria-label="anchor" href="#arg-double-ident"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, column names of the Reference Matrix will be set with dual identities (ident.1_ident.2). If <code>FALSE</code>, column names will be set as <code>ident.1</code> identities. Ignored if <code>ident.2</code> = <code>NULL</code>.</p></dd>


<dt id="arg-double-ident-sep">double.ident.sep<a class="anchor" aria-label="anchor" href="#arg-double-ident-sep"></a></dt>
<dd><p>Character. The separator to use between the identity names of <code>ident.1</code> and <code>ident.2</code>. Ignored if <code>ident.2</code> = <code>NULL</code> or <code>double.ident</code> = <code>FALSE</code>.</p></dd>


<dt id="arg-reverse-double-ident">reverse.double.ident<a class="anchor" aria-label="anchor" href="#arg-reverse-double-ident"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, the identity names of <code>ident.1</code> and <code>ident.2</code> will be reversed (ident.2_ident.1). Ignored if <code>ident.2</code> = <code>NULL</code> or <code>double.ident</code> = <code>FALSE</code>.</p></dd>


<dt id="arg-subset-ident-">subset.ident.1<a class="anchor" aria-label="anchor" href="#arg-subset-ident-"></a></dt>
<dd><p>Character. The names of one or several <code>ident.1</code> identities to select. If <code>NULL</code>, all identities are used.</p></dd>


<dt id="arg-subset-ident-invert">subset.ident.1.invert<a class="anchor" aria-label="anchor" href="#arg-subset-ident-invert"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, inverts the selection from <code>subset.ident.1</code> (for example, if <code>subset.ident.1</code> = c('0','1','2') and <code>subset.ident.1.invert</code> = <code>TRUE</code>, all identities except 0, 1 and 2 will be kept). Ignored if <code>subset.ident.1</code> = <code>NULL</code>.</p></dd>


<dt id="arg-subset-ident-">subset.ident.2<a class="anchor" aria-label="anchor" href="#arg-subset-ident-"></a></dt>
<dd><p>Character. The names of one or several <code>ident.2</code> identities to select. If <code>NULL</code>, all identities are used. Ignored if <code>ident.2</code> = <code>NULL</code>.</p></dd>


<dt id="arg-subset-ident-invert">subset.ident.2.invert<a class="anchor" aria-label="anchor" href="#arg-subset-ident-invert"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, inverts the selection from <code>subset.ident.2</code> (for example, if <code>subset.ident.2</code> = c('patient1','patient4') and <code>subset.ident.2.invert</code> = <code>TRUE</code>, all identities except patient 1 and patient 4 will be kept). Ignored if <code>subset.ident.2</code> = <code>NULL</code> or <code>ident.2</code> = <code>NULL</code>.</p></dd>


<dt id="arg-downsample-object-first">downsample.object.first<a class="anchor" aria-label="anchor" href="#arg-downsample-object-first"></a></dt>
<dd><p>Numeric. The number of cells to downsample from the entire <code>seurat_object</code> (not from each identity) before subsetting with <code>subset.ident.1</code> and/or <code>subset.ident.2</code>. If <code>NULL</code>, all cells are used.</p></dd>


<dt id="arg-downsample-object-last">downsample.object.last<a class="anchor" aria-label="anchor" href="#arg-downsample-object-last"></a></dt>
<dd><p>Numeric. The number of cells to downsample from the entire <code>seurat_object</code> after subsetting with <code>subset.ident.1</code> and/or <code>subset.ident.2</code>. If <code>NULL</code>, all cells are used.</p></dd>


<dt id="arg-downsample-cluster">downsample.cluster<a class="anchor" aria-label="anchor" href="#arg-downsample-cluster"></a></dt>
<dd><p>Numeric. The number of cells to downsample from each <code>ident.1</code> identity. Will be performed after <code>downsample.object.last</code>. If <code>NULL</code>, all cells are used.</p></dd>


<dt id="arg-automatic-downsample">automatic.downsample<a class="anchor" aria-label="anchor" href="#arg-automatic-downsample"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, automatically downsamples the <code>seurat_object</code> so that the Reference Matrix file written to disk would be just under the <code>max.matrix.size</code> limit (empirically estimated). Performed last. Ignored if <code>check.size</code> = <code>TRUE</code> or <code>write</code> = <code>FALSE</code>. Please <a href="https://github.com/Alexis-Varin/RightOmicsTools/issues" class="external-link">report an issue</a> if you see a significant difference between the file size written to disk and <code>max.matrix.size</code> (for example, <code>max.matrix.size</code> is set to 200 MB but the file is 400 MB or 100 MB).</p></dd>


<dt id="arg-check-size">check.size<a class="anchor" aria-label="anchor" href="#arg-check-size"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, prints the estimated size of the Reference Matrix file that would be written to disk and the number of cells to downsample if need be.</p></dd>


<dt id="arg-max-matrix-size">max.matrix.size<a class="anchor" aria-label="anchor" href="#arg-max-matrix-size"></a></dt>
<dd><p>Numeric. The maximum size of the Reference Matrix file written to disk in MB. Will stop the function if the Reference Matrix file written to disk is estimated to be over this limit, or if <code>automatic.downsample</code> = <code>TRUE</code>, will downsample the <code>seurat_object</code> instead so that the Reference Matrix written to disk is under the size limit. Ignored if <code>write</code> = <code>FALSE</code>.</p></dd>


<dt id="arg-cell-barcodes">cell.barcodes<a class="anchor" aria-label="anchor" href="#arg-cell-barcodes"></a></dt>
<dd><p>Logical. Must be <code>FALSE</code> for CIBERSORTx. If <code>TRUE</code>, keeps the cell barcodes and does not rename with cell identities, if you want to extract the expression matrix for projects other than CIBERSORTx.</p></dd>


<dt id="arg-file-name">file.name<a class="anchor" aria-label="anchor" href="#arg-file-name"></a></dt>
<dd><p>Character. The name of the Reference Matrix file written to disk. Must not contain any space for CIBERSORTx, the function will automatically replace any space with an underscore. Ignored if <code>check.size</code> = <code>TRUE</code> or <code>write</code> = <code>FALSE</code>.</p></dd>


<dt id="arg-file-format">file.format<a class="anchor" aria-label="anchor" href="#arg-file-format"></a></dt>
<dd><p>Character. The format of the Reference Matrix file written to disk. Must be 'txt' or 'tsv' for CIBERSORTx, but you may also specify 'csv' for example, if you want to extract the expression matrix for projects other than CIBERSORTx. Accepts any format the <code><a href="https://rdatatable.gitlab.io/data.table/reference/fwrite.html" class="external-link">fwrite</a></code> function would accept. Ignored if <code>check.size</code> = <code>TRUE</code> or <code>write</code> = <code>FALSE</code>.</p></dd>


<dt id="arg-file-sep">file.sep<a class="anchor" aria-label="anchor" href="#arg-file-sep"></a></dt>
<dd><p>Character. The separator to use in the Reference Matrix file written to disk. Must be tabulation for CIBERSORTx, but you may also specify a comma for example, if you want to extract the expression matrix for projects other than CIBERSORTx. Accepts any separator the <code><a href="https://rdatatable.gitlab.io/data.table/reference/fwrite.html" class="external-link">fwrite</a></code> function would accept. Ignored if <code>check.size</code> = <code>TRUE</code> or <code>write</code> = <code>FALSE</code>.</p></dd>


<dt id="arg-write-path">write.path<a class="anchor" aria-label="anchor" href="#arg-write-path"></a></dt>
<dd><p>Character. The path to write the Reference Matrix into. If <code>NULL</code>, uses current working directory. Ignored if <code>check.size</code> = <code>TRUE</code> or <code>write</code> = <code>FALSE</code>.</p></dd>


<dt id="arg-write">write<a class="anchor" aria-label="anchor" href="#arg-write"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, writes to disk the Reference Matrix file. Ignored if <code>check.size</code> = <code>TRUE</code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical. If <code>FALSE</code>, does not print progress messages and output, but warnings and errors will still be printed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.table</code> object containing the raw counts from the <code>seurat_object</code> or any other specified <code>assay</code> and <code>layer</code>, with cell identities or barcodes as column names and feature names as first column. If <code>write</code> = <code>TRUE</code>, the <code>data.table</code> object is also written to disk. If <code>check.size</code> = <code>TRUE</code>, will instead print the estimated size of the Reference Matrix file that would be written to disk and the number of cells to downsample if need be.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Prepare data</span></span></span>
<span class="r-in"><span><span class="va">pbmc3k</span> <span class="op">&lt;-</span> <span class="fu"><a href="Right_Data.html">Right_Data</a></span><span class="op">(</span><span class="st">"pbmc3k"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 1:</span></span></span>
<span class="r-in"><span><span class="va">refmat</span> <span class="op">&lt;-</span> <span class="fu">Reference_Matrix_Builder</span><span class="op">(</span><span class="va">pbmc3k</span>,</span></span>
<span class="r-in"><span>                                   ident.1 <span class="op">=</span> <span class="st">"seurat_annotations"</span>,</span></span>
<span class="r-in"><span>                                   ident.2 <span class="op">=</span> <span class="st">"orig.ident"</span>,</span></span>
<span class="r-in"><span>                                   downsample.object.first <span class="op">=</span> <span class="fl">1500</span>,</span></span>
<span class="r-in"><span>                                   subset.ident.1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Naive CD4 T"</span>,</span></span>
<span class="r-in"><span>                                                      <span class="st">"Memory CD4 T"</span>,</span></span>
<span class="r-in"><span>                                                      <span class="st">"CD8 T"</span>,</span></span>
<span class="r-in"><span>                                                      <span class="st">"NK"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                   subset.ident.2 <span class="op">=</span> <span class="st">"Donor_2"</span>,</span></span>
<span class="r-in"><span>                                   subset.ident.2.invert <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                   write <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Downsampling... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Subsetting... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Subsetting... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Extracting the expression matrix... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Building the data.table... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cleaning... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Done. </span>
<span class="r-in"><span><span class="va">refmat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Gene CD8 T_Donor_1 CD8 T_Donor_1 CD8 T_Donor_3 Naive CD4 T_Donor_3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           &lt;char&gt;         &lt;num&gt;         &lt;num&gt;         &lt;num&gt;               &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:    AL627309.1             0             0             0                   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:    AP006222.2             0             0             0                   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: RP11-206L10.2             0             0             0                   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: RP11-206L10.9             0             0             0                   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:     LINC00115             0             0             0                   0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2:</span></span></span>
<span class="r-in"><span><span class="fu">Reference_Matrix_Builder</span><span class="op">(</span><span class="va">pbmc3k</span>,</span></span>
<span class="r-in"><span>                         check.size <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                         max.matrix.size <span class="op">=</span> <span class="fl">40</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Starting... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Extracting the expression matrix... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Current estimated Reference Matrix size on CIBERSORTx web portal is between 71 and 74 MB :</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matrix of 2700 cells by 13714 features</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> You may want to downsample your Seurat object to 1429 cells for a Reference Matrix under 40 MB</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alexis Varin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

